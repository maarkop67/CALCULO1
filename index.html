<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Resolución de Desigualdades</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 30px; background: #f4f4f4; }
    h1 { color: #333; }
    input, button { padding: 10px; margin: 10px 0; width: 100%; max-width: 500px; }
    #resultado { background: white; padding: 20px; border-radius: 10px; margin-top: 20px; }
  </style>
</head>
<body>

  <h1>Resolver Desigualdades Lineales y Cuadráticas</h1>
  <input type="text" id="desigualdad" placeholder="Ej. 2x+3>5 o x^2 - 4x + 3 <= 0">
  <button onclick="resolver()">Resolver</button>

  <div id="resultado"></div>

  <script>
    function resolver() {
      const input = document.getElementById("desigualdad").value.replace(/\s/g, "");
      const resDiv = document.getElementById("resultado");

      try {
        if (input.includes("^2")) {
          resolverCuadratica(input);
        } else {
          resolverLineal(input);
        }
      } catch (error) {
        resDiv.innerHTML = `<p style="color:red;">Error: Verifica que la expresión esté correctamente escrita.</p>`;
      }
    }

    function resolverLineal(exp) {
      const match = exp.match(/^([+-]?\d*)x([<>]=?|=)([+-]?\d+)$/);
      if (!match) throw new Error();

      let coef = parseFloat(match[1] || "1");
      let signo = match[2];
      let constante = parseFloat(match[3]);

      let x = constante / coef;
      if (coef < 0) {
        // invertir el signo si se divide por negativo
        signo = signo.replace("<", "#").replace(">", "<").replace("#", ">");
      }

      document.getElementById("resultado").innerHTML = `
        <h3>Desigualdad Lineal</h3>
        <p>Solución: x ${signo} ${Math.abs(x)}</p>
        <p>Intervalo: ${
          signo === ">" ? `(${x}, ∞)` :
          signo === ">=" ? `[${x}, ∞)` :
          signo === "<" ? `(-∞, ${x})` :
          `[−∞, ${x}]`
        }</p>
      `;
    }

    function resolverCuadratica(exp) {
      const match = exp.match(/^([+-]?\d*)x\^2([+-]\d*)x([+-]\d*)([<>]=?|=)0$/);
      if (!match) throw new Error();

      const a = parseFloat(match[1] || "1");
      const b = parseFloat(match[2]);
      const c = parseFloat(match[3]);
      const signo = match[4];

      const discriminante = b * b - 4 * a * c;
      let texto = `<h3>Desigualdad Cuadrática</h3>`;
      texto += `<p>Coeficientes: a=${a}, b=${b}, c=${c}</p>`;
      texto += `<p>Discriminante: Δ = ${discriminante}</p>`;

      if (discriminante < 0) {
        texto += "<p>No hay raíces reales.</p>";
        texto += (a > 0 && (signo === "<" || signo === "<=")) || 
                 (a < 0 && (signo === ">" || signo === ">=")) 
                 ? "<p>Solución: Vacío</p>" 
                 : "<p>Solución: Todos los reales</p>";
      } else {
        const x1 = (-b + Math.sqrt(discriminante)) / (2 * a);
        const x2 = (-b - Math.sqrt(discriminante)) / (2 * a);
        const [min, max] = [x1, x2].sort((a, b) => a - b);

        texto += `<p>Raíces: x₁ = ${min.toFixed(2)}, x₂ = ${max.toFixed(2)}</p>`;

        let intervalo;
        if (signo === "<") {
          intervalo = a > 0 ? `(${min.toFixed(2)}, ${max.toFixed(2)})` : `(-∞, ${min.toFixed(2)}) ∪ (${max.toFixed(2)}, ∞)`;
        } else if (signo === "<=") {
          intervalo = a > 0 ? `[${min.toFixed(2)}, ${max.toF]()
